// -*- Mode: C++; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*-
// ex: set filetype=cpp softtabstop=4 shiftwidth=4 tabstop=4 cindent expandtab:

inline-header {
#include <cisstVector/vctFixedSizeVectorTypes.h>;
}

class {
    name demoData; // required

    // attribute CISST_EXPORT;

    base-class {
        type cmnGenericObject;
        visibility public; //default, can also use protected, private
        is-data true;
    }

    // typedef uses the last token on the line as type name, anything in the middle defined the type
    // the equivalent typedef will be defined in the class scope
    typedef {
        name VectorType;
        type vctFixedSizeVector<double, 2>;
    }

    // member allows to define a data type
    member {
        name StartPoint;
        // only required field, can use a previously defined typedef
        type demoData::VectorType;
        // optional but strongly recommended
        description Segment start point;
        // by default the data generator will provide accessors
        accessors true;
        // by default all members are protected, can also use `public` or `private`
        visibility public;
    }

    member {
        name StopPoint;
        type demoData::VectorType;
        description Segment stop point;
        default VectorType(0, 0);
    }

    member {
        name Length;
        type double;
        default 0;
    }

    member {
        name Sine;
        type double;
        default 0;
    }

    inline-header {
    private:
        CMN_DECLARE_SERVICES(CMN_DYNAMIC_CREATION, CMN_LOG_ALLOW_DEFAULT);
    }
}


inline-header {
CMN_DECLARE_SERVICES_INSTANTIATION(demoData);
}

inline-code {
    CMN_IMPLEMENT_SERVICES(demoData);
}

class {
    name demoData2; // required

    member {
        name Length;
        type double;
        description Some text should go here;
        default 0;
    }
}
