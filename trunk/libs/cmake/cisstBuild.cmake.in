#
# $Id$
#
# Cmake configuration file for the installed version of cisst
#
# Author(s):  Anton Deguet
# Created on: 2003-07-31
#
# (C) Copyright 2003-2011 Johns Hopkins University (JHU), All Rights
# Reserved.
#
# --- begin cisst license - do not edit ---
#
# This software is provided "as is" under an open source license, with
# no warranty.  The complete license can be found in license.txt and
# http://www.cisst.org/cisst/license.txt.
#
# --- end cisst license ---

# Paths
set (CISST_SOURCE_DIR "@CISST_SOURCE_DIR@")
set (CISST_BINARY_DIR "@CISST_BINARY_DIR@")
set (CISST_INCLUDE_DIR "@CISST_BUILD_INCLUDE_DIRECTORIES@")
set (CISST_DOXYGEN_DIR "@CISST_BUILD_DOXYGEN_DIRECTORY@")
set (CISST_LIBRARY_DIR "@CISST_BUILD_LINK_DIRECTORIES@")
set (CISST_CMAKE_DIR "${CISST_SOURCE_DIR}/libs/cmake")
set (CISST_USE_FILE "${CISST_CMAKE_DIR}/Usecisst.cmake")

# On Windows, CMake uses a different compiler at configuration time
set (CISST_CMAKE_COMPILER_IS_MSVC_64 @CISST_CMAKE_COMPILER_IS_MSVC_64@)

# Which libraries have been compiled
set (CISST_LIBRARIES "@CISST_LIBRARIES@")
set (CISST_BUILD_SHARED_LIBS @CISST_BUILD_SHARED_LIBS@)

# Which flags have been set and include path/libs
set (CISST_HAS_CISSTNETLIB @CISST_HAS_CISSTNETLIB@)
set (CISST_HAS_LINUX_RTAI @CISST_HAS_LINUX_RTAI@)
set (CISST_HAS_SWIG_PYTHON @CISST_HAS_SWIG_PYTHON@)
if (CISST_HAS_SWIG_PYTHON)
  set (CISST_SWIG_EXECUTABLE @SWIG_EXECUTABLE@)
endif (CISST_HAS_SWIG_PYTHON)
set (CISST_HAS_XML @CISST_HAS_XML@)
set (CISST_HAS_OPENGL @CISST_HAS_OPENGL@)
set (CISST_HAS_QT @CISST_HAS_QT@)
set (QT_USE_QTOPENGL @QT_USE_QTOPENGL@)
set (QT_USE_QTXML @QT_USE_QTXML@)
set (QT_USE_QTXMLPATTERNS @QT_USE_QTXMLPATTERNS@)
set (CISST_HAS_FLTK @CISST_HAS_FLTK@)

# Where to install
set (CISST_INSTALL_PREFIX "@CMAKE_INSTALL_PREFIX@")

# Checks
set (cisst_FOUND 1)
# Check against componenents required
if (cisst_FIND_COMPONENTS)
  # First test that all libraries should have been compiled
  foreach (required ${cisst_FIND_COMPONENTS})
    if ("${CISST_LIBRARIES}" MATCHES ${required})
      # if found, add to list of required libraries and remove duplicates (for multiple find_package (cisst))
      set (CISST_LIBRARIES_REQUIRED_INTERNAL ${CISST_LIBRARIES_REQUIRED_INTERNAL} ${required})
      list (REMOVE_DUPLICATES CISST_LIBRARIES_REQUIRED_INTERNAL)
      set (${required}_FOUND 1)
    else ("${CISST_LIBRARIES}" MATCHES ${required})
      # inform user and set variables to not-found/false
      message (SEND_ERROR "cisst library ${required} doesn't exist or hasn't been compiled.  Available libraries are: ${CISST_LIBRARIES}")
      set (cisst_FOUND 0)
      set (${required}_FOUND 0)
    endif ("${CISST_LIBRARIES}" MATCHES ${required})
  endforeach (required)

else (cisst_FIND_COMPONENTS)
  # otherwise, assumes user needs all available libraries
  set (CISST_LIBRARIES_REQUIRED_INTERNAL ${CISST_LIBRARIES})
endif (cisst_FIND_COMPONENTS)
